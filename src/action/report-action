#!/usr/bin/env bash

__report_action_bash_clash="${1:?"bash-clash is a required parameter"}"
__report_action_view_dir="${2:?"view-dir is a required parameter"}"

##
# Echos a report view to the $enquirer.
##
action::process_action() {
    source $__report_action_bash_clash $@

    local uptime=$(bash_clash::get "uptime")
    local queue_pid=$(bash_clash::get "queue_pid")
    local enquirer=$(bash_clash::get "enquirer")

    uptime=$(date -r $(( $uptime - 3600 )) +"%-Hh %-Mm %-Ss")

    # TODO:  look into using `less` here, ala git log
    echo -e "$(source $__report_action_view_dir/report-view)" > $enquirer
}
